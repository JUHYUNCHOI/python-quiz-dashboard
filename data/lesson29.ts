// ============================================
// 레슨 29: 함수란?
// Part 5: 함수 - 기초
// ============================================

import { LessonData } from './types'

export const lesson29Data: LessonData = {
  id: "29",
  title: "함수란?",
  emoji: "🎁",
  description: "코드를 재사용하는 마법, 함수를 배워요!",
  chapters: [
    // ============================================
    // Chapter 1: 함수가 뭐예요?
    // ============================================
    {
      id: "ch1",
      title: "함수가 뭐예요?",
      emoji: "🤔",
      steps: [
        {
          id: "ch1-1",
          type: "explain",
          title: "함수가 필요한 이유",
          content: `## 🤔 생각해보기

친구 10명에게 생일 축하 메시지를 보내야 해요.

매번 **"생일 축하해! 행복한 하루 보내!"**를 복사해서 이름만 바꾸면... 너무 귀찮죠?

**함수 = 자동 메시지 기계!**
이름만 넣으면 알아서 메시지를 만들어줘요.`
        },
        {
          id: "ch1-2",
          type: "explain",
          title: "함수 없이 코딩하면...",
          content: `### 😱 반복의 지옥

\`\`\`python
print('=' * 20)
print('안녕하세요, 철수님!')
print('=' * 20)

print('=' * 20)
print('안녕하세요, 영희님!')
print('=' * 20)

print('=' * 20)
print('안녕하세요, 민수님!')
print('=' * 20)
\`\`\`

같은 코드가 계속 반복돼요! **9줄**이나!`
        },
        {
          id: "ch1-3",
          type: "explain",
          title: "함수를 사용하면!",
          content: `### ✨ 함수로 깔끔하게!

\`\`\`python
def 인사(이름):
    print('=' * 20)
    print(f'안녕하세요, {이름}님!')
    print('=' * 20)

인사('철수')
인사('영희')
인사('민수')
\`\`\`

**7줄**로 줄었어요! 수정도 한 곳만 하면 돼요!

💡 **함수** = 코드를 묶어서 이름을 붙인 것!
필요할 때마다 이름을 불러서 사용해요.`
        },
        {
          id: "ch1-4",
          type: "quiz",
          title: "함수의 장점",
          content: "함수를 사용하는 가장 큰 이유는 무엇인가요?",
          options: [
            "프로그램이 더 느려진다",
            "코드를 재사용하고 반복을 줄인다",
            "파일 크기가 커진다",
            "에러가 더 많이 발생한다"
          ],
          answer: 1,
          explanation: "함수는 코드를 재사용할 수 있게 해주고, 같은 코드의 반복을 줄여줘요!"
        }
      ]
    },
    // ============================================
    // Chapter 2: 함수 만들기 (def)
    // ============================================
    {
      id: "ch2",
      title: "함수 만들기 (def)",
      emoji: "🔨",
      steps: [
        {
          id: "ch2-1",
          type: "explain",
          title: "함수의 구조",
          content: `## 🖼️ 함수의 기본 구조

\`\`\`
┌─────────────────────────────────┐
│  def 함수이름(재료):             │ ← 함수 정의
│      요리 과정                   │ ← 실행할 코드
│      return 완성된요리           │ ← 결과 돌려주기
└─────────────────────────────────┘

함수이름(재료)  ← 함수 호출 (사용)
\`\`\`

**쉽게 생각하면:**
- \`def\` = 레시피 적기
- \`함수이름()\` = 요리 시작!`
        },
        {
          id: "ch2-2",
          type: "explain",
          title: "기본 형태",
          content: `## def로 함수 만들기

\`\`\`python
def 함수이름():
    실행할 코드
\`\`\`

**규칙:**
- \`def\` = define(정의하다)의 약자
- 함수 이름 뒤에 \`()\` 필수!
- \`:\` 이후 **들여쓰기** 필수!`
        },
        {
          id: "ch2-3",
          type: "tryit",
          title: "가장 간단한 함수",
          task: "함수를 정의하고 호출해보세요",
          initialCode: `def 인사하기():
    print('안녕하세요!')

# 함수 호출 (사용)
인사하기()`,
          expectedOutput: "안녕하세요!",
          hint: "코드를 실행만 하면 돼요!"
        },
        {
          id: "ch2-4",
          type: "quiz",
          title: "함수 호출 이해하기",
          content: `다음 코드의 출력 결과는?
\`\`\`python
def 인사하기():
    print('Hello!')

인사하기()
인사하기()
\`\`\``,
          options: [
            "Hello!",
            "Hello!\\nHello!",
            "아무것도 출력 안 됨",
            "에러 발생"
          ],
          answer: 1,
          explanation: "인사하기()를 2번 호출했으니 'Hello!'가 2번 출력돼요!"
        },
        {
          id: "ch2-5",
          type: "mission",
          title: "내 첫 함수 만들기",
          task: "'파이썬 재밌다!'를 출력하는 함수 fun()을 만들고 호출하세요",
          initialCode: `# fun 함수를 정의하세요
def fun():
    # 여기에 코드 작성


# 함수 호출
fun()`,
          expectedOutput: "파이썬 재밌다!",
          hint: "print('파이썬 재밌다!')를 함수 안에 작성하세요",
          hint2: "def fun():\\n    print('파이썬 재밌다!')"
        }
      ]
    },
    // ============================================
    // Chapter 3: 매개변수
    // ============================================
    {
      id: "ch3",
      title: "매개변수 (Parameter)",
      emoji: "📦",
      steps: [
        {
          id: "ch3-1",
          type: "explain",
          title: "매개변수란?",
          content: `## 📦 함수에 값을 전달해요!

\`\`\`
┌─────────────────────────────┐
│  def 인사(이름):            │ ← 이름 = 매개변수 (빈 그릇)
│      print(f'안녕, {이름}!') │
└─────────────────────────────┘

인사('철수')  ← '철수' = 인자 (실제 재료)
\`\`\`

**쉽게 생각하면:**
- **매개변수** = 빈 그릇 (이름표만 있음)
- **인자** = 그릇에 담을 실제 재료`
        },
        {
          id: "ch3-2",
          type: "tryit",
          title: "이름을 받는 함수",
          task: "함수에 이름을 전달해보세요",
          initialCode: `def 인사(이름):
    print(f'안녕, {이름}!')

인사('철수')
인사('영희')`,
          expectedOutput: "안녕, 철수!\n안녕, 영희!",
          hint: "각각 '철수'와 '영희'가 이름에 전달돼요"
        },
        {
          id: "ch3-3",
          type: "quiz",
          title: "매개변수 이해하기",
          content: `다음 코드의 출력 결과는?
\`\`\`python
def 인사(이름):
    print(f'{이름}아 안녕!')

인사('민수')
\`\`\``,
          options: [
            "이름아 안녕!",
            "민수아 안녕!",
            "안녕!",
            "에러 발생"
          ],
          answer: 1,
          explanation: "'민수'가 이름 매개변수에 전달되어 '민수아 안녕!'이 출력돼요!"
        },
        {
          id: "ch3-4",
          type: "tryit",
          title: "여러 개의 매개변수",
          task: "이름과 나이를 받는 함수를 실행해보세요",
          initialCode: `def 소개(이름, 나이):
    print(f'저는 {이름}이고, {나이}살입니다.')

소개('철수', 15)
소개('영희', 14)`,
          expectedOutput: "저는 철수이고, 15살입니다.\n저는 영희이고, 14살입니다.",
          hint: "이름과 나이가 각각 전달돼요"
        },
        {
          id: "ch3-5",
          type: "mission",
          title: "음식 주문 함수",
          task: "음식 이름을 받아서 '[음식] 주문이요!'를 출력하는 order 함수를 만드세요",
          initialCode: `def order(food):
    # 여기에 코드 작성


order('피자')
order('치킨')`,
          expectedOutput: "피자 주문이요!\n치킨 주문이요!",
          hint: "f-string을 사용해서 f'{food} 주문이요!'를 출력하세요",
          hint2: "print(f'{food} 주문이요!')"
        }
      ]
    },
    // ============================================
    // Chapter 4: 반환값 (return)
    // ============================================
    {
      id: "ch4",
      title: "반환값 (return)",
      emoji: "🎁",
      steps: [
        {
          id: "ch4-1",
          type: "explain",
          title: "return이란?",
          content: `## 🎁 함수가 결과를 돌려줘요!

\`\`\`
┌─────────────────────────────┐
│  def 더하기(a, b):          │
│      return a + b  ──────────→ 결과를 돌려줌
└─────────────────────────────┘

결과 = 더하기(3, 5)  ← 8이 결과에 저장됨
\`\`\`

**쉽게 생각하면:**
- \`print\` = 화면에 보여주기만 (말로 알려줌)
- \`return\` = 값을 돌려줘서 저장 가능 (선물 포장)`
        },
        {
          id: "ch4-2",
          type: "tryit",
          title: "더하기 함수",
          task: "return으로 결과를 돌려받아보세요",
          initialCode: `def 더하기(a, b):
    return a + b

결과 = 더하기(3, 5)
print(결과)`,
          expectedOutput: "8",
          hint: "3 + 5 = 8이 return되어 결과에 저장돼요!"
        },
        {
          id: "ch4-3",
          type: "quiz",
          title: "return 이해하기",
          content: `다음 코드의 출력 결과는?
\`\`\`python
def 계산(a, b):
    return a * b

결과 = 계산(4, 5)
print(결과)
\`\`\``,
          options: [
            "9",
            "20",
            "45",
            "에러 발생"
          ],
          answer: 1,
          explanation: "4 × 5 = 20이 return되어 결과에 저장됩니다!"
        },
        {
          id: "ch4-4",
          type: "explain",
          title: "return vs print 차이",
          content: `## ⚠️ 헷갈리지 마세요!

\`\`\`python
# print만 있는 함수
def 인사():
    print('안녕!')

결과1 = 인사()    # '안녕!' 출력됨
print(결과1)      # None (아무것도 없음)

# return이 있는 함수
def 더하기(a, b):
    return a + b

결과2 = 더하기(3, 5)
print(결과2)      # 8
print(결과2 * 2)  # 16 - 계산에 사용 가능!
\`\`\`

**핵심:**
- \`print()\`: 화면에 보여주기만 → 다른 곳에 사용 불가
- \`return\`: 값을 돌려줌 → 변수에 저장, 계산에 사용 가능`
        },
        {
          id: "ch4-5",
          type: "quiz",
          title: "return 이후 코드",
          content: `다음 코드의 출력 결과는?
\`\`\`python
def 테스트():
    print('A')
    return 'B'
    print('C')

결과 = 테스트()
print(결과)
\`\`\``,
          options: [
            "A\\nB\\nC",
            "A\\nB",
            "B",
            "에러 발생"
          ],
          answer: 1,
          explanation: "return 이후의 코드(print('C'))는 실행되지 않아요! A 출력 후 'B'가 반환됩니다."
        },
        {
          id: "ch4-6",
          type: "mission",
          title: "곱하기 함수",
          task: "두 수를 곱해서 반환하는 multiply 함수를 완성하세요",
          initialCode: `def multiply(a, b):
    # 여기에 코드 작성


print(multiply(3, 4))
print(multiply(5, 6))`,
          expectedOutput: "12\n30",
          hint: "return a * b를 사용하세요",
          hint2: "return a * b"
        }
      ]
    },
    // ============================================
    // Chapter 5: 프로젝트
    // ============================================
    {
      id: "ch5",
      title: "프로젝트: 인사 기계",
      emoji: "🎉",
      steps: [
        {
          id: "ch5-1",
          type: "explain",
          title: "오늘 만들 것!",
          content: `## 🎉 인사 기계를 만들어요!

\`\`\`
=== 인사 기계 ===
====================
안녕하세요, 철수님!
====================
====================
안녕하세요, 영희님!
====================
====================
안녕하세요, 민수님!
====================
\`\`\`

함수를 사용해서 깔끔하게 만들어봐요!`
        },
        {
          id: "ch5-2",
          type: "mission",
          title: "인사 기계 완성",
          task: "인사 함수를 완성하고 3명에게 인사하세요",
          initialCode: `# 인사 함수 정의
def 인사(이름):
    print('=' * 20)
    print(f'안녕하세요, {이름}님!')
    print('=' * 20)

# 인사 기계 실행
print('=== 인사 기계 ===')
인사('철수')
인사('영희')
인사('민수')`,
          expectedOutput: "=== 인사 기계 ===\n====================\n안녕하세요, 철수님!\n====================\n====================\n안녕하세요, 영희님!\n====================\n====================\n안녕하세요, 민수님!\n====================",
          hint: "코드를 그대로 실행하면 됩니다!"
        },
        {
          id: "ch5-3",
          type: "mission",
          title: "🏆 도전: 메시지 추가",
          task: "이름과 메시지를 받아서 출력하는 함수를 만드세요",
          initialCode: `# 이름과 메시지를 받는 함수
def 인사(이름, 메시지):
    # 여기에 코드 작성


인사('철수', '반가워요')
인사('영희', '좋은 하루')`,
          expectedOutput: "반가워요, 철수님!\n좋은 하루, 영희님!",
          hint: "f'{메시지}, {이름}님!'을 출력하세요",
          hint2: "print(f'{메시지}, {이름}님!')"
        }
      ]
    }
  ]
}
