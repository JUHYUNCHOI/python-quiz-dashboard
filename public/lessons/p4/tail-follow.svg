<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 400" width="480" height="400">
  <style>
    text { font-family: 'Segoe UI', system-ui, sans-serif; }
  </style>

  <!-- Background -->
  <rect width="480" height="400" rx="16" fill="#f0f4f8"/>

  <!-- Title -->
  <text x="240" y="28" text-anchor="middle" font-size="16" font-weight="bold" fill="#1e293b">followHead() 꼬리 따라가기</text>

  <!-- BEFORE state -->
  <text x="240" y="58" text-anchor="middle" font-size="13" font-weight="bold" fill="#6366f1">이동 전</text>

  <!-- Before: Head and tails in a row -->
  <g transform="translate(40, 70)">
    <!-- Head -->
    <circle cx="320" cy="30" r="22" fill="#587e76"/>
    <text x="320" y="36" text-anchor="middle" font-size="12" fill="white" font-weight="bold">HEAD</text>
    <text x="320" y="60" text-anchor="middle" font-size="10" fill="#64748b">(100, 0)</text>

    <!-- Tail 0 -->
    <circle cx="240" cy="30" r="18" fill="#c5d5c5" stroke="#94a3b8" stroke-width="1"/>
    <text x="240" y="35" text-anchor="middle" font-size="11" fill="#475569" font-weight="bold">T0</text>
    <text x="240" y="60" text-anchor="middle" font-size="10" fill="#64748b">(80, 0)</text>

    <!-- Tail 1 -->
    <circle cx="160" cy="30" r="18" fill="#c5d5c5" stroke="#94a3b8" stroke-width="1"/>
    <text x="160" y="35" text-anchor="middle" font-size="11" fill="#475569" font-weight="bold">T1</text>
    <text x="160" y="60" text-anchor="middle" font-size="10" fill="#64748b">(60, 0)</text>

    <!-- Tail 2 -->
    <circle cx="80" cy="30" r="18" fill="#c5d5c5" stroke="#94a3b8" stroke-width="1"/>
    <text x="80" y="35" text-anchor="middle" font-size="11" fill="#475569" font-weight="bold">T2</text>
    <text x="80" y="60" text-anchor="middle" font-size="10" fill="#64748b">(40, 0)</text>
  </g>

  <!-- Step arrows and labels -->
  <text x="240" y="160" text-anchor="middle" font-size="13" font-weight="bold" fill="#dc2626">뒤에서부터! (i = 2, 1, 0)</text>

  <!-- Step 1 -->
  <g transform="translate(40, 175)">
    <rect x="10" y="0" width="380" height="36" rx="8" fill="#fef2f2" stroke="#fca5a5" stroke-width="1"/>
    <text x="30" y="23" font-size="12" fill="#dc2626" font-weight="bold">1단계</text>
    <text x="90" y="23" font-size="12" fill="#1e293b">T2 → T1이 있던 자리(60, 0)로 이동</text>
  </g>

  <!-- Step 2 -->
  <g transform="translate(40, 215)">
    <rect x="10" y="0" width="380" height="36" rx="8" fill="#fff7ed" stroke="#fdba74" stroke-width="1"/>
    <text x="30" y="23" font-size="12" fill="#ea580c" font-weight="bold">2단계</text>
    <text x="90" y="23" font-size="12" fill="#1e293b">T1 → T0이 있던 자리(80, 0)로 이동</text>
  </g>

  <!-- Step 3 -->
  <g transform="translate(40, 255)">
    <rect x="10" y="0" width="380" height="36" rx="8" fill="#f0fdf4" stroke="#86efac" stroke-width="1"/>
    <text x="30" y="23" font-size="12" fill="#16a34a" font-weight="bold">3단계</text>
    <text x="90" y="23" font-size="12" fill="#1e293b">T0 → HEAD가 있던 자리(100, 0)로 이동</text>
  </g>

  <!-- AFTER state -->
  <text x="240" y="315" text-anchor="middle" font-size="13" font-weight="bold" fill="#16a34a">이동 후 (HEAD는 +20 전진!)</text>

  <!-- After: Head moved, tails shifted -->
  <g transform="translate(40, 325)">
    <!-- New Head position -->
    <circle cx="360" cy="30" r="22" fill="#587e76"/>
    <text x="360" y="36" text-anchor="middle" font-size="12" fill="white" font-weight="bold">HEAD</text>
    <text x="360" y="58" text-anchor="middle" font-size="10" fill="#64748b">(120, 0)</text>

    <!-- T0 at old head position -->
    <circle cx="280" cy="30" r="18" fill="#c5d5c5" stroke="#16a34a" stroke-width="2"/>
    <text x="280" y="35" text-anchor="middle" font-size="11" fill="#475569" font-weight="bold">T0</text>

    <!-- T1 at old T0 position -->
    <circle cx="200" cy="30" r="18" fill="#c5d5c5" stroke="#16a34a" stroke-width="2"/>
    <text x="200" y="35" text-anchor="middle" font-size="11" fill="#475569" font-weight="bold">T1</text>

    <!-- T2 at old T1 position -->
    <circle cx="120" cy="30" r="18" fill="#c5d5c5" stroke="#16a34a" stroke-width="2"/>
    <text x="120" y="35" text-anchor="middle" font-size="11" fill="#475569" font-weight="bold">T2</text>
  </g>
</svg>
